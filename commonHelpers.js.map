{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45010101-f091bc02c96679130727c6b77';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  console.log('API request URL:', url);\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    return [];\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  const markup = images\n    .map(\n      image => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\" data-title=\"${image.tags}\">\n        <img \n          class=\"gallery-image\" \n          src=\"${image.webformatURL}\" \n          alt=\"${image.tags}\" \n        />\n        <div class=\"gallery-info\">\n          <p class=\"info-item\"><b>Likes</b>: ${image.likes}</p>\n          <p class=\"info-item\"><b>Views</b>: ${image.views}</p>\n          <p class=\"info-item\"><b>Comments</b>: ${image.comments}</p>\n          <p class=\"info-item\"><b>Downloads</b>: ${image.downloads}</p>\n        </div>\n      </a>\n    </li>\n      `\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n}\nexport function showNoResultsMessage() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Sorry, there are no images. Please try again!',\n  });\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderImages, showNoResultsMessage } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('#search-form');\n  const input = document.querySelector('#search-input');\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n\n  if (!form || !input || !gallery) {\n    console.error('Form or input element not found');\n    return;\n  }\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'title',\n    captionDelay: 250,\n  });\n\n  form.addEventListener('submit', async event => {\n    event.preventDefault();\n    const query = input.value.trim();\n\n    if (query === '') {\n      iziToast.error({\n        title: 'Error',\n        message: \"Search query can't be empty!\",\n      });\n      return;\n    }\n\n    loader.style.display = 'block';\n\n    try {\n      const images = await fetchImages(query);\n\n      gallery.innerHTML = '';\n\n      if (images.length === 0) {\n        showNoResultsMessage();\n      } else {\n        renderImages(images);\n        lightbox.refresh();\n\n        await new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n          }, 100);\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching images:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.',\n      });\n    } finally {\n      loader.style.display = 'none';\n    }\n  });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","error","renderImages","images","gallery","markup","image","showNoResultsMessage","iziToast","form","input","loader","lightbox","SimpleLightbox","event","resolve"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,2DAED,QAAQ,IAAI,mBAAoBC,CAAG,EAEnC,GAAI,CACF,MAAMC,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,eAAQ,MAAM,yBAA0BA,CAAK,EACtC,EACR,CACH,CClBO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACZ,IACCG,GAAS;AAAA;AAAA,sCAEuBA,EAAM,aAAa,iBAAiBA,EAAM,IAAI;AAAA;AAAA;AAAA,iBAGnEA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,+CAGoBA,EAAM,KAAK;AAAA,+CACXA,EAAM,KAAK;AAAA,kDACRA,EAAM,QAAQ;AAAA,mDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,OAK7D,EACA,KAAK,EAAE,EAEVF,EAAQ,UAAYC,CACtB,CACO,SAASE,GAAuB,CACrCC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACb,CAAG,CACH,CC7BA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CN,EAAU,SAAS,cAAc,UAAU,EAC3CO,EAAS,SAAS,cAAc,SAAS,EAE/C,GAAI,CAACF,GAAQ,CAACC,GAAS,CAACN,EAAS,CAC/B,QAAQ,MAAM,iCAAiC,EAC/C,MACD,CAED,MAAMQ,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,QACd,aAAc,GAClB,CAAG,EAEDJ,EAAK,iBAAiB,SAAU,MAAMK,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMhB,EAAQY,EAAM,MAAM,KAAI,EAE9B,GAAIZ,IAAU,GAAI,CAChB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACjB,CAAO,EACD,MACD,CAEDa,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMR,EAAS,MAAMN,EAAYC,CAAK,EAEtCM,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EACpBI,KAEAL,EAAaC,CAAM,EACnBS,EAAS,QAAO,EAEhB,MAAM,IAAI,QAAQG,GAAW,CAC3B,WAAW,IAAM,CACfA,GACD,EAAE,GAAG,CAChB,CAAS,EAEJ,OAAQd,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7C,SAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACjB,CAAO,CACP,QAAc,CACRU,EAAO,MAAM,QAAU,MACxB,CACL,CAAG,CACH,CAAC"}